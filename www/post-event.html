{% extends "base-profile.html" %}
{% load map_tags %}

{% block javascript %}
<script type="text/javascript" language="javascript">
$(function(){  // on page load
    // Watermark all input tags:
	$("input[type='text']").each(function(index, input) {  // Find each input tag
	    input = $(input);              // each gives you a raw HTML element; wrap it back in input
	    if (input.attr('title')) { // if that element has a watermark attribute
		    input.watermark(input.attr('title')); // Use that attribute as the watermark
		}
	});
	
	// Make formOptional divs expand & collapse:
	$(".formOptional").hide();
	$(".formOptional").each(function(index, elem) {
		var visible = false;
		$(elem).siblings(".formOptionalToggle").change(function(event) {
			var content = $(event.target).siblings(".formOptional");
			if (visible) {
				content.slideUp();
			} else {
				content.slideDown();
			}
			visible = !visible;
		});
	});
});
</script>
{% endblock javascript %}

{% block selected_page %}your-post-event{% endblock %}

{% block active_tab_content_width %}side{% endblock %}

{% block active_tab_content %}
{% if edit %}
<h2><a href="{% url gallevent.event.views.show_events %}">Your Posts</a>: Edit Your Event</h2>
{% else %}
<h2>Post Your Event on Gallevent</h2>
<p><em class="form-comment">Required fields are in <b>orange</b></em>.</p>
{% endif %}
<form id="post-event" method='post'>
    <fieldset>
    	<legend>Where will your event be?</legend>
        <label for="address1" class="required">Address Line 1:</label>
        <input type="text" id="address1" class="input-standard" name="address1" placeholder="123 Your Street" value="{{ form.address1.value }}" />
        <label for="address2">Address Line 2:</label>
        <input type="text" id="address2" class="input-standard" name="address2" placeholder="Suite 201" value="{{ form.address2.value }}" />
        <label for="city" class="required">City:</label>
        {{ form.city.errors }}
        <input type="text" id="city" class="input-standard" name="city" placeholder="San Francisco" value="{{ form.city.value }}" />
        <label for="zip-code">Zip Code:</label>
        <input type="text" id="zip-code" class="input-standard" name="zipcode" placeholder="94114" value="{{ form.zipcode.value }}" />
    </fieldset>
    <fieldset>
        <legend>What type of event is this?</legend>
        <label for="event-category">Select an Event Category:</label>
        <select id="event-category" class="input-standard" name="event_category" value="{{ form.event_category.value }}" >
            <option value="fairs" id="select-fairs">Festivals &amp; Fairs</option>
            <option value="networking" id="select-networking">Networking</option>
            <option value="education" id="select-education">Education</option>
            <option value="athletic" id="select-athletic">Athletic</option>
            <option value="art" id="select-art">Art &amp; Music</option>
            <option value="dancing" id="select-dancing">Dancing</option>
            <option value="sales" id="select-sales">Sales</option>
            <option value="dining" id="select-dining">Dining</option>
            <option value="parties" id="select-parties">Parties</option>
            <option value="jobs" id="select-jobs">Jobs</option>
        </select>
        <label for="event-keywords">Keywords:</label>
        <span class="form-details">List up to three things that will be at your event.</span>
        <input type="text" id="event-keywords" class="input-standard" name="event_keywords" placeholder="Art, Live Music, Dancing" value="{{ form.event_keywords.value }}" />
    </fieldset>
    <fieldset>
    	<legend>What is your event all about?</legend>
        <label for="event-name" class="required">Name your event:</label>
        <input type="text" id="event-name" class="input-standard" name="event_name" placeholder="The Best Event Ever" value="{{ form.event_name.value }}" />
        <label for="event-description" class="required">Describe your event:</label>
        <textarea id="event-description" class="input-standard" name="event_description" placeholder="Don't miss out on this year's Best Event Ever! We'll have it all..." >{{ form.event_descriptions.value }}</textarea>
        <label for="event-url">Link to event or organizaiton page:</label>
        <input type="text" id="event-url" class="input-standard" name="event_url" placeholder="www.gallevent.com" value="{{ form.event_url.value }}" />
    </fieldset>
    <fieldset>
        <legend>When will your event happen?</legend>
        <label for="start-date" class="required">Start Date &amp; Time:</label>
        <input type="text" id="start-date" class="input-standard" name="start_date"  placeholder="6/20/2012" value="{{ form.start_date.value }}" /> at <input type="text" id="start-time" class="input-standard" name="start_time" placeholder="3:00 PM" value="{{ form.start_time.value }}" />
        <label for="end-date" class="required">End Date &amp; Time:</label>
        <input type="text" id="end-date" class="input-standard" name="end_date" placeholder="6/20/2012" value="{{ form.end_date.value }}" /> at <input type="text" id="end-time" class="input-standard" name="end_time" placeholder="9:00 PM" value="{{ form.end_time.value }}" />
    </fieldset>
    <fieldset>
        <legend>Guest list</legend>
        <label for="rsvp-limit">How many people may RSVP?</label>
        <span class="form-details">The number you enter below will limit how many Gallevent Members can RSVP to this event. Leave this blank if there is no limit.</span>
        <input type="text" id="rsvp-limit" class="input-standard" name="rsvp_limit" value="{{ form.rsvp_limit.value }}" /><em class="form-comment">000 Gallevent Members can RSVP to this event.</em>
    </fieldset>
    <fieldset>
    	<legend>Ticketing</legend>
        <label>Do guests need tickets to attend your event?</label>
        <span class="radio-btn-1"><input class="radio formOptionalToggle" type="radio" name="purchase_tickets" value="no" {% if not form.purchase_tickets.value %}checked{% endif %} /> No</span>
        <span class="radio-btn-2"><input class="radio formOptionalToggle" type="radio" name="purchase_tickets" value="yes" {% if form.purchase_tickets.value %}checked{% endif %} /> Yes</span>

        <div class='formOptional'>
            <label for="ticket-price">Ticket price:</label>
            <input type="text" id="ticket-price" class="input-standard" name="ticket_price" placeholder="$0.00" value="{{ form.ticket_price.value }}" /><em class="form-comment">Your event is free!</em>
            <label for="ticket-link">Link to get tickets:</label>
            <input type="text" id="ticket-link" class="input-standard" name="ticket_url" placeholder="www.gallevent.com" value="{{ form.ticket_url.value }}" />
        </div>
    </fieldset>
    <input class="btn-s-post-event" type="submit" value="Post Event">
</form>
{% endblock active_tab_content %}

{% block right_side_content %}
    {% show_map %}
{% endblock right_side_content %}
