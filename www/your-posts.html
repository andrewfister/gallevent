{% extends "base-profile.html" %}
{% load map_tags %}

{% block prejavascript %}
<script>
var eventsJSON = [ {% for event in events %} {id: {{ event.id }},user_id: {{ event.user_id }},address1: "{{ event.address1|escapejs }}",address2: "{{ event.address2|escapejs }}",city: "{{ event.city|escapejs }}",state: "{{ event.state|escapejs }}",zipcode: "{{ event.zipcode|escapejs }}",name: "{{ event.name|escapejs }}",category: "{{ event.category|escapejs }}",ticket_price: {{ event.ticket_price }},start_date: "{{ event.start_date|escapejs }}",start_time: "{{ event.start_time|escapejs }}",end_date: "{{ event.end_date|escapejs }}",end_time:"{{ event.end_time|escapejs }}",description: "{{ event.description|escapejs }}",organizer_email: "{{ event.organizer_email|escapejs }}",organizer_phone: "{{ event.organizer_phone|escapejs }}",organizer_url: "{{ event.organizer_url|escapejs }}",latitude: {{ event.latitude }},longitude: {{ event.longitude }},status: {{ event.status }} }, {% endfor %} ];
</script>
{% endblock %}

{% block javascript %}
{% load mustachejs %}
{% mustachejs "your-post" %}
<script type="text/javascript" src="/static/js/views/your-post-view.js"></script>
{% endblock %}

{% block selected_page %}{{ selected_page }}{% endblock %}

{% block active_tab_content_width %}side{% endblock %}

{% block active_tab_content %}
{% ifequal selected_page 'your-posts' %}
<h2>Your Posts</h2>
<p>Scroll down to view the posts you have created.</p>
{% else %}{% ifequal selected_page 'your-events' %}
<h2>Your Lineup</h2>
<p>Events you have RSVPed to, events you are following, <br />and events you have attended.</p>
{% endifequal %}{% endifequal %}
<form id="your-posts">    
	<fieldset>
    	<legend>Active Posts</legend>
        <span class="sort">
            <label for="active-sort-by1">Sort:</label>
            <select id="active-sort-by1">
                <option value="date-ascending">Date Ascending</option>
                <option value="date-descending">Date Descending</option>
                <option value="date-category">Category</option>
            </select>
        </span><!-- .sort -->
        <ul class="form-event-list active-events">
        </ul>
        <a href="{% url gallevent.event.views.show_events %}" class="more-link">More Active Posts &raquo;</a>
    </fieldset>
    
    {% ifequal selected_page 'your-posts' %}
    <fieldset>
        <legend>Archived Posts</legend>
        <span class="sort">
            <label for="active-sort-by3">Sort:</label>
            <select id="active-sort-by3">
                <option value="date-ascending">Date Ascending</option>
                <option value="date-descending">Date Descending</option>
                <option value="date-category">Category</option>
            </select>
        </span><!-- .sort -->
        <ul class="form-event-list archived-events">
        </ul>
        <a href="#" class="more-link">More Expired Posts &raquo;</a>
    </fieldset>
    {% endifequal %}
</form>
{% endblock active_tab_content %}

{% block right_side_content %}
    {% show_map %}
{% endblock right_side_content %}
